@model Etutlist.Models.TelafiDers
@{
    ViewData["Title"] = "Telafi Dersi Detaylarý";
}

<div class="container mt-4">
    <div class="row">
    <div class="col-md-12">
   <div class="d-flex justify-content-between align-items-center mb-4">
      <h2><i class="bi bi-file-text"></i> Telafi Dersi Detaylarý</h2>
         <div>
     <a asp-action="Index" asp-route-fakulteId="@Model.FakulteId" class="btn btn-secondary">
      <i class="bi bi-arrow-left"></i> Geri
          </a>
       </div>
      </div>

       <!-- DURUM KARTI -->
      <div class="row mb-4">
        <div class="col-md-12">
    <div class="alert alert-@(Model.Onaylandi ? "success" : "warning") d-flex align-items-center">
   <i class="bi bi-@(Model.Onaylandi ? "check-circle-fill" : "exclamation-triangle-fill") me-3" style="font-size: 2rem;"></i>
 <div>
  <h5 class="mb-1">
    @if (Model.Onaylandi)
        {
    <text>Telafi Dersi Onaylandý</text>
     }
        else
  {
    <text>Telafi Dersi Onay Bekliyor</text>
       }
          </h5>
       <p class="mb-0">
         @(Model.TelafiTuru) türünde bir telafi dersi. @(Model.Onaylandi ? "Ýþlem tamamlandý." : "Onay bekleniyor.")
    </p>
         </div>
    </div>
            </div>
  </div>

    <!-- DETAY BÝLGÝLERÝ -->
    <div class="row">
   <!-- DERS BÝLGÝLERÝ -->
    <div class="col-md-6 mb-4">
    <div class="card h-100">
   <div class="card-header bg-primary text-white">
        <h5><i class="bi bi-book"></i> Ders Bilgileri</h5>
       </div>
     <div class="card-body">
       <table class="table table-borderless">
  <tr>
        <th style="width: 40%;">Fakülte:</th>
   <td><strong>@Model.Fakulte?.Ad</strong></td>
    </tr>
         <tr>
      <th>Ders:</th>
        <td><strong>@Model.DersProgrami?.DersAdi</strong></td>
     </tr>
        <tr>
      <th>Ders Kodu:</th>
     <td>@Model.DersProgrami?.DersKodu</td>
     </tr>
           <tr>
     <th>Kýsým No:</th>
         <td>@Model.DersProgrami?.KisimNo</td>
   </tr>
    <tr>
    <th>Normal Gün:</th>
           <td>@Model.DersProgrami?.DersGunu</td>
       </tr>
         <tr>
          <th>Normal Saat:</th>
     <td>@Model.DersProgrami?.DersSaati. ders saati</td>
        </tr>
          </table>
       </div>
  </div>
      </div>

  <!-- TELAFÝ BÝLGÝLERÝ -->
   <div class="col-md-6 mb-4">
    <div class="card h-100">
  <div class="card-header bg-success text-white">
       <h5><i class="bi bi-calendar-event"></i> Telafi Bilgileri</h5>
     </div>
     <div class="card-body">
    <table class="table table-borderless">
   <tr>
      <th style="width: 40%;">Telafi Tarihi:</th>
  <td>
     <strong>@Model.TelafiTarihi.ToString("dd MMMM yyyy")</strong><br/>
          <small class="text-muted">@Model.TelafiTarihi.ToString("dddd")</small>
     </td>
            </tr>
   <tr>
<th>Saat Aralýðý:</th>
            <td>
       <i class="bi bi-clock"></i> 
           @Model.BaslangicSaat.ToString(@"hh\:mm") - @Model.BitisSaat.ToString(@"hh\:mm")
      </td>
      </tr>
       <tr>
         <th>Telafi Türü:</th>
           <td>
  <span class="badge bg-@(Model.TelafiTuru == "Telafi" ? "success" : Model.TelafiTuru == "Ýkame" ? "warning text-dark" : "info")">
  @Model.TelafiTuru
        </span>
      </td>
    </tr>
        <tr>
    <th>Telafi Nedeni:</th>
        <td><strong>@Model.TelafiNedeni</strong></td>
     </tr>
        @if (!string.IsNullOrWhiteSpace(Model.Aciklama))
    {
        <tr>
   <th>Açýklama:</th>
    <td>@Model.Aciklama</td>
  </tr>
    }
@if (Model.KisimNo.HasValue)
     {
       <tr>
    <th>Birleþtirildiði Kýsým:</th>
         <td>Kýsým @Model.KisimNo</td>
    </tr>
         }
     </table>
        </div>
    </div>
       </div>

              <!-- HOCA BÝLGÝLERÝ -->
        <div class="col-md-12 mb-4">
  <div class="card">
   <div class="card-header bg-warning text-dark">
       <h5><i class="bi bi-people"></i> Hoca Bilgileri</h5>
</div>
    <div class="card-body">
   <div class="row">
<div class="col-md-6">
       <h6 class="text-muted">Asýl Hoca (Normal Program)</h6>
  <div class="d-flex align-items-center mb-2">
                 <div class="me-3">
     <i class="bi bi-person-circle" style="font-size: 3rem; color: #6c757d;"></i>
   </div>
    <div>
  <h5 class="mb-1">@Model.DersProgrami?.Hoca?.AdSoyad</h5>
  <p class="mb-0">
       <span class="badge bg-secondary">@Model.DersProgrami?.Hoca?.Rutbe</span>
     </p>
      </div>
      </div>
       </div>
        <div class="col-md-6">
           <h6 class="text-muted">Görevli Hoca (Telafi)</h6>
    <div class="d-flex align-items-center mb-2">
         <div class="me-3">
          <i class="bi bi-person-check-fill" style="font-size: 3rem; color: #0d6efd;"></i>
      </div>
      <div>
   <h5 class="mb-1">@Model.YedekHoca?.AdSoyad</h5>
 <p class="mb-0">
      <span class="badge bg-primary">@Model.YedekHoca?.Rutbe</span>
        </p>
     </div>
       </div>
               </div>
        </div>
      </div>
    </div>
   </div>
     </div>

       <!-- ÝÞLEMLER -->
      <div class="card">
      <div class="card-header bg-dark text-white">
       <h5><i class="bi bi-gear"></i> Ýþlemler</h5>
    </div>
        <div class="card-body">
     <div class="d-flex gap-2">
     @if (!Model.Onaylandi)
      {
 <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-primary">
 <i class="bi bi-pencil"></i> Düzenle
    </a>
    
      <form asp-action="Onayla" asp-route-id="@Model.Id" method="post" class="d-inline">
          @Html.AntiForgeryToken()
       <button type="submit" class="btn btn-success">
      <i class="bi bi-check-lg"></i> Onayla
           </button>
       </form>
  }
           
    <form asp-action="Delete" asp-route-id="@Model.Id" method="post" class="d-inline"
 onsubmit="return confirm('Bu telafi dersini silmek istediðinize emin misiniz?')">
     @Html.AntiForgeryToken()
  <button type="submit" class="btn btn-danger">
      <i class="bi bi-trash"></i> Sil
  </button>
      </form>

     <a asp-action="Index" asp-route-fakulteId="@Model.FakulteId" class="btn btn-outline-secondary">
    <i class="bi bi-arrow-left"></i> Listeye Dön
          </a>
       </div>
    </div>
      </div>
   </div>
    </div>
</div>
