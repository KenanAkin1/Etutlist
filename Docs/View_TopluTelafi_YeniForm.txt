<!-- Views/TelafiDers/TopluTelafiOlustur.cshtml içindeki FORM kýsmýný
     Bu kodla DEÐÝÞTÝRÝN (sadece form kýsmý): -->

<form asp-action="TopluTelafiOlustur" method="post">
    @Html.AntiForgeryToken()

    <div class="row g-3">
        <div class="col-md-6">
            <label class="form-label fw-bold">
                <i class="bi bi-calendar-x"></i> Telafi Edilecek Tarih <span class="text-danger">*</span>
            </label>
            <input type="date" name="telafiYapilacakTarih" class="form-control form-control-lg" 
                   value="@DateTime.Today.ToString("yyyy-MM-dd")" required />
            <small class="text-muted d-block mt-1">
                <strong>Örnek:</strong> 17.11.2025 Pazartesi seçerseniz, o günün tüm dersleri telafi edilecek
            </small>
        </div>

        <div class="col-md-6">
            <label class="form-label fw-bold">
                <i class="bi bi-chat-left-text"></i> Telafi Nedeni <span class="text-danger">*</span>
            </label>
            <input type="text" name="telafiNedeni" class="form-control form-control-lg" 
                   placeholder="Örn: Resmi tatil, Toplantý, vb." required />
            <small class="text-muted d-block mt-1">
                Telafi nedenini açýklayýn
            </small>
        </div>
    </div>

    <div class="alert alert-warning mt-4">
        <h6><i class="bi bi-exclamation-triangle-fill"></i> <strong>Akýllý Planlama Kurallarý:</strong></h6>
        <ul class="mb-0">
            <li>? <strong>Ayný kýsýma</strong> ayný gün/saatte baþka telafi atanmaz</li>
            <li>? <strong>Ayný hocaya</strong> ayný gün/saatte baþka ders atanmaz</li>
            <li>? <strong>Tabur ayarlarý</strong> dikkate alýnýr (baþlama saati, atlanacak saatler)</li>
            <li>? <strong>Çakýþma yoksa</strong> otomatik olarak uygun slota atar</li>
            <li>?? Uygun slot bulunamazsa o ders <strong>atlanýr</strong></li>
        </ul>
    </div>

    <div class="mt-4 d-flex gap-2 justify-content-end">
        <a asp-action="Index" class="btn btn-secondary btn-lg">
            <i class="bi bi-x-circle"></i> Ýptal
        </a>
        <button type="submit" class="btn btn-success btn-lg" 
                onclick="return confirm('?? Akýllý toplu telafi baþlatýlacak. Sistem otomatik olarak uygun slotlarý bulacak. Emin misiniz?');">
            <i class="bi bi-lightning-fill"></i> Baþlat
        </button>
    </div>
</form>
